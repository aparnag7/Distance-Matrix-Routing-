(this.webpackJsonptomtom=this.webpackJsonptomtom||[]).push([[0],{27:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(22),o=n.n(i),c=n(4),u=(n(27),n(2)),s=(n(40),n(9)),l=n(0),d=function(){var e=Object(r.useRef)(),t=Object(r.useState)({}),n=Object(c.a)(t,2),a=n[0],i=n[1],o=Object(r.useState)(80.27847),d=Object(c.a)(o,2),m=d[0],f=d[1],b=Object(r.useState)(13.08784),j=Object(c.a)(b,2),g=j[0],p=j[1],v=function(e){return{point:{latitude:e.lat,longitude:e.lng}}};return Object(r.useEffect)((function(){var t={lng:m,lat:g},n=[],r=u.map({key:"uBSIqJb79yM8Efb3XuYYGdUJ9IxQRwIf",container:e.current,stylesVisibility:{trafficIncidents:!0,trafficFlow:!0},center:[m,g],zoom:14});i(r);!function(){var e=new u.Popup({offset:{bottom:[0,-25]}}).setHTML("This is You!"),t=document.createElement("div");t.className="marker";var n=new u.Marker({draggable:!0,element:t}).setLngLat([m,g]).addTo(r);n.on("dragend",(function(){var e=n.getLngLat();f(e.lng),p(e.lat)})),n.setPopup(e).togglePopup()}();var a=function(){(function(e){var n={key:"uBSIqJb79yM8Efb3XuYYGdUJ9IxQRwIf",destinations:e.map((function(e){return v(e)})),origins:[v(t)]};return new Promise((function(t,r){s.services.matrixRouting(n).then((function(n){var r=n.matrix[0].map((function(t,n){return{location:e[n],drivingtime:t.response.routeSummary.travelTimeInSeconds}}));r.sort((function(e,t){return e.drivingtime-t.drivingtime}));var a=r.map((function(e){return e.location}));t(a)}))}))})(n).then((function(e){e.unshift(t),s.services.calculateRoute({key:"uBSIqJb79yM8Efb3XuYYGdUJ9IxQRwIf",locations:e}).then((function(e){!function(e,t){t.getLayer("route")&&(t.removeLayer("route"),t.removeSource("route")),t.addLayer({id:"route",type:"line",source:{type:"geojson",data:e},paint:{"line-color":"#4a90e2","line-width":6}})}(e.toGeoJson(),r)}))}))};return r.on("click",(function(e){n.push(e.lngLat),function(e,t){var n=document.createElement("div");n.className="marker-delivery",new u.Marker({element:n}).setLngLat(e).addTo(t)}(e.lngLat,r),a()})),function(){return r.remove()}}),[m,g]),Object(l.jsx)(l.Fragment,{children:a&&Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)("div",{ref:e,className:"map"}),Object(l.jsxs)("div",{className:"search-bar",children:[Object(l.jsx)("h1",{children:"Where to?"}),Object(l.jsx)("input",{type:"text",id:"longitude",className:"longitude",placeholder:"Enter Longitude",onChange:function(e){f(e.target.value)}}),Object(l.jsx)("input",{type:"text",id:"latitude",className:"latitude",placeholder:"Enter Latitude",onChange:function(e){p(e.target.value)}})]}),Object(l.jsx)("br",{}),Object(l.jsxs)("footer",{children:[" ",Object(l.jsxs)("marquee",{children:[Object(l.jsx)("h3",{children:"Created by Aparna"})," "]})," "]})]})})};o.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.0b8376fb.chunk.js.map